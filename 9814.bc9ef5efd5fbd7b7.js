"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9814],{9814:(P,S,s)=>{s.r(S),s.d(S,{CreateUserPageModule:()=>_});var g=s(6814),d=s(6223),i=s(878),h=s(6800),U=s(5861),m=s(9421),u=s(7084),e=s(9212),E=s(6530),M=s(643),v=s(3864),p=s(9864);const A=[{path:"",component:(()=>{var r;class l{constructor(t,n,a,o,f,T){this.loadingCtrl=t,this.userService=n,this.alertController=a,this.languageService=o,this.router=f,this.loaderService=T,this.enableSave=!1,this.emailValidationMessage="",this.phoneNumberValidationMessage="",this.genders=[],this.roles=[],this.statuses=[],this.user=new m.n(JSON.parse("{}")),this.genders=this.userService.genders,this.roles=this.userService.roles,this.statuses=this.userService.statuses,this.user.userRole="User",this.user.name="",this.user.email="",this.user.phoneNumber="",this.user.userName="",this.user.userStatus="Active"}ngOnInit(){this.enableSave=!1}emailTextChanged(){this.validate()}phoneNumberTextChanged(){this.validate()}validate(){return u.W.validateEmail(this.user.email)&&u.W.validateMobileNumber(this.user.phoneNumber)?(this.enableSave=!0,this.emailValidationMessage="",this.phoneNumberValidationMessage="",!0):(this.enableSave=!1,u.W.validateEmail(this.user.email)?(this.emailValidationMessage="",u.W.validateMobileNumber(this.user.phoneNumber)?(this.phoneNumberValidationMessage="",!1):(this.phoneNumberValidationMessage=this.languageService.translate("USER_PROFILE.PHONE_SYNTAX_VALIDATING_MESSAGE"),!1)):(this.emailValidationMessage=this.languageService.translate("USER_PROFILE.EMAIL_SYNTAX_VALIDATING_MESSAGE"),!1))}ionViewWillEnter(){}SaveUser(t,n){this.loaderService.customLoader("Saving User...",1e4),this.user.password="password",this.user.createdOn=(0,g.p6)(new Date,"dd-MM-yyyy hh:mm:ss","en-US","+0530"),this.user.updatedOn=(0,g.p6)(new Date,"dd-MM-yyyy hh:mm:ss","en-US","+0530"),this.user.resetRequired=!0,this.userService.SaveUser(this.user,()=>{this.goToUserList(),this.loaderService.dismissLoader()},()=>{this.loaderService.dismissLoader()})}goToUserList(){this.userService.selectedUser=this.user;let t={queryParams:{ts:(new Date).getMilliseconds()}};this.router.navigate(["home/user-list"],t)}checkEmailExistance(t,n){this.loaderService.customLoader("Checking for Email...",1e4),this.userService.readByEmail(this.user.email,a=>{this.loaderService.dismissLoader(),0!=a.length?t(new m.n(a[0])):n()},()=>{this.loaderService.dismissLoader(),n()})}checkUserNameExistance(t,n){this.loaderService.customLoader("Checking for User Name...",1e4),this.userService.readByUserName(this.user.userName,a=>{this.loaderService.dismissLoader(),0!=a.length?t(new m.n(a[0])):n()},()=>{this.loaderService.dismissLoader(),n()})}SaveButtonClicked(){this.userService.Validate(this.user)?this.checkEmailExistance(t=>{this.presentAlert(this.languageService.translate("SIGN_UP.ALREADY_REGISTERED"),this.languageService.translate("SIGN_UP.USER_WITH_EMAIL_ALREADY_EXISTS"))},()=>{this.checkUserNameExistance(t=>{this.presentAlert(this.languageService.translate("SIGN_UP.ALREADY_REGISTERED"),this.languageService.translate("SIGN_UP.USER_WITH_USERNAME_ALREADY_EXISTS"))},()=>{this.SaveUser(()=>{this.goToUserList()},()=>{this.presentAlert(this.languageService.translate("SIGN_UP.REGISTRATION_FAILED"),this.languageService.translate("SIGN_UP.REGISTRATION_FAILED_MESSAGE"))})})}):this.presentAlert(this.languageService.translate("SIGN_UP.EMPTY_DETAILS"),this.languageService.translate("SIGN_UP.EMPTY_DETAILS_MESSAGE"))}presentAlert(t=this.languageService.translate("SIGN_UP.TITLE"),n=this.languageService.translate("SIGN_UP.REGISTRATION_FAILED")){var a=this;return(0,U.Z)(function*(){const o=yield a.alertController.create({cssClass:"app-alert-class",header:t,subHeader:"",message:n,buttons:[a.languageService.translate("BUTTONS.OK")]});yield o.present(),yield o.onDidDismiss()})()}}return(r=l).\u0275fac=function(t){return new(t||r)(e.Y36(i.HT),e.Y36(E.K),e.Y36(i.Br),e.Y36(M.T),e.Y36(h.F0),e.Y36(v.D))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-user"]],decls:71,vars:43,consts:[[1,"text-center"],["name","people-circle-outline","slot","start"],["size","12"],["size","6"],["autocomplete","nope",1,"value",3,"ngModel","placeholder","ngModelChange"],["name","settings-outline","slot","start"],["size","6",1,"value"],["autocomplete","nope",3,"ngModel","placeholder","ngModelChange"],["name","options-outline","slot","start"],["expand","block",3,"click"],["slot","start","name","close"],["slot","start","name","save"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content")(1,"ion-card")(2,"ion-card-header",0)(3,"ion-item"),e._UZ(4,"ion-icon",1),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-card-content")(8,"ion-list")(9,"ion-item")(10,"ion-grid")(11,"ion-row")(12,"ion-col",2),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ion-row")(16,"ion-col",3)(17,"ion-input",4),e.NdJ("ngModelChange",function(o){return n.user.name=o}),e.ALo(18,"translate"),e.qZA()()()()()()()(),e.TgZ(19,"ion-card")(20,"ion-card-header",0)(21,"ion-item"),e._UZ(22,"ion-icon",5),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"ion-card-content")(26,"ion-list")(27,"ion-item")(28,"ion-grid")(29,"ion-row")(30,"ion-col"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"ion-col",6)(34,"ion-input",7),e.NdJ("ngModelChange",function(o){return n.user.email=o}),e.ALo(35,"translate"),e.qZA()()()()(),e.TgZ(36,"ion-item")(37,"ion-grid")(38,"ion-row")(39,"ion-col"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"ion-col",6)(43,"ion-input",7),e.NdJ("ngModelChange",function(o){return n.user.phoneNumber=o}),e.ALo(44,"translate"),e.qZA()()()()()()()(),e.TgZ(45,"ion-card")(46,"ion-card-header")(47,"ion-item"),e._UZ(48,"ion-icon",8),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"ion-card-content")(52,"ion-list")(53,"ion-item")(54,"ion-grid")(55,"ion-row")(56,"ion-col"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"ion-col",3)(60,"ion-input",4),e.NdJ("ngModelChange",function(o){return n.user.userName=o}),e.ALo(61,"translate"),e.qZA()()()()()()()()(),e.TgZ(62,"ion-footer")(63,"ion-button",9),e.NdJ("click",function(){return n.goToUserList()}),e._UZ(64,"ion-icon",10),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"ion-button",9),e.NdJ("click",function(){return n.SaveButtonClicked()}),e._UZ(68,"ion-icon",11),e._uU(69),e.ALo(70,"translate"),e.qZA()()),2&t&&(e.xp6(5),e.hij(" ",e.lcZ(6,17,"USER.BASIC_DETAILS")," "),e.xp6(8),e.hij("",e.lcZ(14,19,"BASE_MODEL.name")," "),e.xp6(4),e.MGl("placeholder"," ",e.lcZ(18,21,"USER.NAME"),""),e.Q6J("ngModel",n.user.name),e.xp6(6),e.hij(" ",e.lcZ(24,23,"USER.CONTACT_DETAILS")," "),e.xp6(8),e.hij("",e.lcZ(32,25,"USER.EMAIL")," "),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(35,27,"USER.EMAIL"),""),e.Q6J("ngModel",n.user.email),e.xp6(6),e.hij("",e.lcZ(41,29,"USER.PHONE_NUMBER")," "),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(44,31,"USER.PHONE_NUMBER"),""),e.Q6J("ngModel",n.user.phoneNumber),e.xp6(6),e.hij(" ",e.lcZ(50,33,"USER.ACCOUNT_DETAILS")," "),e.xp6(8),e.hij("",e.lcZ(58,35,"USER.USER_NAME")," "),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(61,37,"USER.USER_NAME"),""),e.Q6J("ngModel",n.user.userName),e.xp6(5),e.hij(" ",e.lcZ(66,39,"BUTTONS.CANCEL")," "),e.xp6(4),e.hij(" ",e.lcZ(70,41,"BUTTONS.SAVE"),"\n"))},dependencies:[i.YG,i.PM,i.FN,i.Zi,i.wI,i.W2,i.fr,i.jY,i.gu,i.pK,i.Ie,i.q_,i.Nd,i.j9,d.JJ,d.On,p.X$],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: url(/assets/bg20.JPG) 0 0/100% 100% no-repeat;background-size:cover;background-color:#f0f8ff}.toolbar-backgorund[_ngcontent-%COMP%]{background-color:#f0f8ff}.user-profile-pic[_ngcontent-%COMP%]{width:60px;height:60px;display:block;margin-top:20px;margin-left:auto;margin-right:auto;background-color:#f0f8ff}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;background-color:#f0f8ff;color:#000}ion-select[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important;padding-left:0!important}ion-item.selected[_ngcontent-%COMP%]{background-color:#f0f8ff;color:#000}ion-card[_ngcontent-%COMP%]{color:#2c1d1d;background-color:#f0f8ff;padding:0;margin:0;border-radius:10px}ion-card-content[_ngcontent-%COMP%]{background-color:#f0f8ff;color:#130d0d}.user-results[_ngcontent-%COMP%], .user-results-list-header[_ngcontent-%COMP%]{background-color:#f0f8ff}.user-result-cell[_ngcontent-%COMP%]{background-color:#7fffd4;margin-top:10px}.list-image[_ngcontent-%COMP%], .user-icon[_ngcontent-%COMP%]{font-size:50px;color:#1f0707}.value[_ngcontent-%COMP%]{font-size:larger;font-weight:600}.text-center[_ngcontent-%COMP%]{text-align:center;align-items:center}.bottom-area[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;right:0;background-color:gray;height:45px;margin-bottom:0}.bottom-button[_ngcontent-%COMP%]{border-width:1px;border-color:#3e2c2c;color:#fff;font-size:larger;font-weight:800;border-style:solid;width:50%;margin:5px auto auto}.custom-card[_ngcontent-%COMP%]{height:300px}.field-list[_ngcontent-%COMP%]{padding-left:10px}"]}),l})()}];let C=(()=>{var r;class l{}return(r=l).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.Bz.forChild(A),h.Bz]}),l})(),_=(()=>{var r;class l{}return(r=l).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.Pc,d.u5,C,p.aw.forChild()]}),l})()}}]);