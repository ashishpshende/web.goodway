"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1487],{1487:(G,u,o)=>{o.r(u),o.d(u,{SettingsPageModule:()=>E});var L=o(6814),C=o(6223),S=o(9864),i=o(878),l=o(6800),M=o(5861),g=o(9421),t=o(9212),h=o(553),f=o(6709),O=o(5514);class P{}P.GET_LOCALIZATION_BY_SHOW_BY_FIELD_APP_SCRIPT=h.N.appScriptApiURL+"?sheetid="+h.N.SpreadsheetId+"&visualize=chart&showby={SHOW_BY}&sheetname=Vehicles";let m=(()=>{var n;class r{constructor(e,a){this.securityService=e,this.networkService=a,this.showBy=new Array,this.LoadMetaData()}LoadMetaData(){}loadVisualization(e,a,c){this.networkService.get(P.GET_LOCALIZATION_BY_SHOW_BY_FIELD_APP_SCRIPT.replace("{SHOW_BY}",e),d=>{a(d)},()=>{c()})}}return(n=r).\u0275fac=function(e){return new(e||n)(t.LFG(f.I),t.LFG(O.S))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var p=o(8378),A=o(643);const I=[{path:"",component:(()=>{var n;class r{constructor(e,a,c,d,U){this.router=e,this.loadingController=a,this.visualizationService=c,this.localStorageService=d,this.languageService=U,this.languageSelected="en",this.languageSelectedLabel="English",this.loggedInUser=new g.n(JSON.parse("{}")),this.router.events.forEach(y=>{y instanceof l.m2&&this.serveBasedOnUserRole()})}serveBasedOnUserRole(){var e;this.loggedInUser=null!==(e=this.localStorageService.StoredPreference.LoggedInUser)&&void 0!==e?e:new g.n({})}loadLocalizationDetails(){var e;this.languageSelected=null!==(e=this.localStorageService.StoredPreference.SelectedLanguage)&&void 0!==e?e:"en",this.updateSelectedLanguageLabel()}ngAfterViewInit(){var e;this.loadLocalizationDetails(),this.loggedInUser=null!==(e=this.localStorageService.StoredPreference.LoggedInUser)&&void 0!==e?e:new g.n({})}ngOnInit(){var e;this.loggedInUser=null!==(e=this.localStorageService.StoredPreference.LoggedInUser)&&void 0!==e?e:new g.n({})}languageChangeButtonClicked(){this.languageService.presentLanguageSelctionMenu(()=>{this.initializeLoader("SETTINGS_PAGE.CHANGING_LANGUAGE_MESSAGE"),setTimeout(()=>{this.updateSelectedLanguageLabel()},3e3)})}reloadMetaDataButtonClicked(){this.resetMetaData()}resetMetaData(){this.visualizationService.showBy=new Array}updateSelectedLanguageLabel(){var e;this.languageSelected=null!==(e=this.localStorageService.StoredPreference.SelectedLanguage)&&void 0!==e?e:"en",this.languageService.getLanguageList().forEach(a=>{a.value===this.languageSelected&&(this.languageSelectedLabel=a.label)})}initializeLoader(e){var a=this;return(0,M.Z)(function*(){a.loading=yield a.loadingController.create({message:a.languageService.translate(e),duration:4e3}),a.loading.present()})()}}return(n=r).\u0275fac=function(e){return new(e||n)(t.Y36(l.F0),t.Y36(i.HT),t.Y36(m),t.Y36(p.n),t.Y36(A.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],decls:17,vars:7,consts:[["name","options-outline","slot","start"],["name","language","slot","start"],["slot","end"],["slot","end",3,"click"],["name","pencil","slot","icon-only"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-content")(1,"ion-card")(2,"ion-card-header")(3,"ion-item"),t._UZ(4,"ion-icon",0),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"ion-card-content")(8,"ion-list")(9,"ion-item"),t._UZ(10,"ion-icon",1),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"ion-label",2),t._uU(14),t.qZA(),t.TgZ(15,"ion-button",3),t.NdJ("click",function(){return a.languageChangeButtonClicked()}),t._UZ(16,"ion-icon",4),t.qZA()()()()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,3,"SETTINGS_PAGE.PREFERENCE")," "),t.xp6(6),t.hij(" ",t.lcZ(12,5,"SETTINGS_PAGE.LANGUAGE")," "),t.xp6(3),t.hij(" ",a.languageSelectedLabel,""))},dependencies:[i.YG,i.PM,i.FN,i.Zi,i.W2,i.gu,i.Ie,i.Q$,i.q_,S.X$],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: url(/assets/bg20.JPG) 0 0/100% 100% no-repeat ;background-size:cover;color:#000;--overflow: hidden}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-card-header[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list-header[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-card-content[_ngcontent-%COMP%], [_nghost-%COMP%]   on-label[_ngcontent-%COMP%]{justify-content:center;background:none;color:#000}.toolbar-backgorund[_ngcontent-%COMP%]{--background: linear-gradient(180deg, var(--ion-color-dark), var(--ion-color-medium-contrast));color:#000}"]}),r})()}];let T=(()=>{var n;class r{}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(I),l.Bz]}),r})(),E=(()=>{var n;class r{}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[L.ez,C.u5,i.Pc,T,S.aw.forChild()]}),r})()}}]);