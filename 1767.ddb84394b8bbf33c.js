"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1767],{1767:(y,h,i)=>{i.r(h),i.d(h,{DashboardPageModule:()=>U});var m=i(6814),O=i(6223),s=i(878),g=i(6800),d=i(5861),p=i(9421);const _=(0,i(2726).fo)("LocalNotifications",{web:()=>i.e(3850).then(i.bind(i,3850)).then(e=>new e.LocalNotificationsWeb)});var l=i(2893),n=i(9212),M=i(6530),E=i(643),T=i(8378),A=i(7346),S=i(9864);function R(e,r){if(1&e){const a=n.EpF();n.TgZ(0,"ion-col",1),n.NdJ("click",function(){n.CHM(a);const o=n.oxw();return n.KtG(o.addParcelTileClicked())}),n.TgZ(1,"ion-card",2)(2,"ion-card-header"),n._UZ(3,"ion-icon",3),n.qZA(),n.TgZ(4,"ion-card-content"),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}2&e&&(n.xp6(5),n.hij(" ",n.lcZ(6,1,"DASHBOARD.ADD_PARCEL")," "))}function v(e,r){if(1&e){const a=n.EpF();n.TgZ(0,"ion-col",1),n.NdJ("click",function(){n.CHM(a);const o=n.oxw();return n.KtG(o.scanQRCodeTileClicked())}),n.TgZ(1,"ion-card",2)(2,"ion-card-header"),n._UZ(3,"ion-icon",4),n.qZA(),n.TgZ(4,"ion-card-content"),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}2&e&&(n.xp6(5),n.hij(" ",n.lcZ(6,1,"DASHBOARD.SCAN_QR_CODE")," "))}function D(e,r){if(1&e){const a=n.EpF();n.TgZ(0,"ion-col",1),n.NdJ("click",function(){n.CHM(a);const o=n.oxw();return n.KtG(o.usersTileClicked())}),n.TgZ(1,"ion-card",2)(2,"ion-card-header"),n._UZ(3,"ion-icon",5),n.qZA(),n.TgZ(4,"ion-card-content"),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}2&e&&(n.xp6(5),n.hij(" ",n.lcZ(6,1,"DASHBOARD.USERS")," "))}function I(e,r){if(1&e){const a=n.EpF();n.TgZ(0,"ion-col",1),n.NdJ("click",function(){n.CHM(a);const o=n.oxw();return n.KtG(o.visualizationTileClicked())}),n.TgZ(1,"ion-card",2)(2,"ion-card-header"),n._UZ(3,"ion-icon",6),n.qZA(),n.TgZ(4,"ion-card-content"),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}2&e&&(n.xp6(5),n.hij(" ",n.lcZ(6,1,"DASHBOARD.REPORTS")," "))}function b(e,r){if(1&e){const a=n.EpF();n.TgZ(0,"ion-col",1),n.NdJ("click",function(){n.CHM(a);const o=n.oxw();return n.KtG(o.settingsTileClicked())}),n.TgZ(1,"ion-card",2)(2,"ion-card-header"),n._UZ(3,"ion-icon",7),n.qZA(),n.TgZ(4,"ion-card-content"),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}2&e&&(n.xp6(5),n.hij(" ",n.lcZ(6,1,"DASHBOARD.SETTINGS")," "))}const N=[{path:"",component:(()=>{var e;class r{constructor(t,o,c,u,f,Z,L){this.userService=t,this.router=o,this.languageService=c,this.localStorageService=u,this.loadingController=f,this.alertController=Z,this.platform=L,this.isSupported=!1,this.isAvailable=!1,this.cnNumber=" Scan Code",this.loggedInUser=new p.n(JSON.parse("{}")),this.router.events.forEach(G=>{G instanceof g.m2&&this.serveBasedOnUserRole()})}serveBasedOnUserRole(){this.loggedInUser=this.localStorageService.StoredPreference.LoggedInUser}ngAfterViewInit(){this.initializeLoader(),this.loggedInUser=this.localStorageService.StoredPreference.LoggedInUser,this.serveBasedOnUserRole(),this.userService.isSessionValid(t=>{this.loading.dismiss()},t=>{switch(this.loading.dismiss(),t){case"EMAIL_UPDATED":this.presentAlert(this.languageService.translate("SESSION.EMAIL_UPDATED_ERROR_TITLE"),this.languageService.translate("SESSION.EMAIL_UPDATED_MESSAGE"));break;case"INACTIVE_USER":this.presentAlert(this.languageService.translate("SESSION.INACTIVE_ACCOUNT_ERROR_TITLE"),this.languageService.translate("SESSION.ERROR_INACTIVE_ACCOUNT_MESSAGE"));break;case"SUSPENDED_USER":this.presentAlert(this.languageService.translate("SESSION.SUSPENDED_ACCOUNT_ERROR_TITLE"),this.languageService.translate("SESSION.ERROR_SUSPENDED_ACCOUNT_MESSAGE"));break;case"USER_NOT_FOUND":this.presentAlert(this.languageService.translate("SESSION.USER_NOT_FOUND_ERROR_TITLE"),this.languageService.translate("SESSION.USER_NOT_FOUND_MESSAGE"));break;case"SOMETHING_WENT_WRONG1":this.presentAlert(this.languageService.translate("SESSION.SOMETHING_WENT_WRONG_ERROR_TITLE"),this.languageService.translate("SESSION.SOMETHING_WENT_WRONG_MESSAGE"));break;default:this.loading.dismiss(),this.logout()}})}ngOnInit(){l.mR.installGoogleBarcodeScannerModule().then(t=>{}),l.mR.isSupported().then(t=>{this.isSupported=t.supported}),l.mR.isGoogleBarcodeScannerModuleAvailable().then(t=>{this.isAvailable=t.available}),this.loggedInUser=this.localStorageService.StoredPreference.LoggedInUser}checkScheduleSearch(t,o){}generateNotification(){const t=_.schedule({notifications:[{title:"Search Results Available",body:"Click here for details...",id:1,schedule:{at:new Date(Date.now()+2e3),allowWhileIdle:!0},sound:"sound.wav",smallIcon:"ic_stat_org_logo",actionTypeId:"",extra:{data:"Results matching with the scheduled search"}}]});console.log("scheduled notifications: "+t),_.addListener("localNotificationActionPerformed",o=>{this.router.navigate(["/home/lookup-list"])})}searchTileClicked(){this.router.navigate(["/home/search-parcel"])}scanQRCodeTileClicked(){!1===this.isAvailable&&this.presentAlert("QR Scanner Alert!","QR Scanner not available on current Device."),0==this.isSupported&&this.presentAlert("QR Scanner Alert!","QR Scanner not supported on current Device."),this.scan()}addParcelTileClicked(){this.router.navigate(["/home/create-parcel"])}usersTileClicked(){this.router.navigate(["/home/sub-dealer-list"])}settingsTileClicked(){this.router.navigate(["/home/settings"])}visualizationTileClicked(){}logout(){this.router.navigate(["login"])}presentAlert(t=this.languageService.translate("LOGIN.ERROR_ALERT_TITLE"),o=this.languageService.translate("LOGIN.ERROR_INVALID_CREDENTIALS_MESSAGE")){var c=this;return(0,d.Z)(function*(){const u=yield c.alertController.create({cssClass:"my-custom-class",header:t,subHeader:"",message:o,buttons:[{text:c.languageService.translate("BUTTONS.OK"),role:"confirm",handler:()=>{}}]});yield u.present(),yield u.onDidDismiss()})()}initializeLoader(){var t=this;return(0,d.Z)(function*(){t.loading=yield t.loadingController.create({message:t.languageService.translate("SESSION.VALIDATING_MESSAGE"),duration:5e3}),t.loading.present()})()}scan(){var t=this;return(0,d.Z)(function*(){if(!(yield t.requestPermissions()))return void t.presentAlert(t.languageService.translate("QR_CODE.PERMISSION_DENIED_ALERT_TITLE"),t.languageService.translate("SESSION.PERMISSION_DENIED_ALERT_MESSAGE"));const{barcodes:c}=yield l.mR.scan();t.cnNumber=c[0].rawValue,t.parcelSelected(t.cnNumber)})()}requestPermissions(){return(0,d.Z)(function*(){const{camera:t}=yield l.mR.requestPermissions();return"granted"===t||"limited"===t})()}parcelSelected(t){const o={queryParams:{ts:(new Date).getMilliseconds(),cnNo:t}};this.router.navigate(["home/qr-code"],o)}}return(e=r).\u0275fac=function(t){return new(t||e)(n.Y36(M.K),n.Y36(g.F0),n.Y36(E.T),n.Y36(T.n),n.Y36(s.HT),n.Y36(s.Br),n.Y36(A.t4))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-dashboard"]],decls:9,vars:5,consts:[[3,"click",4,"ngIf"],[3,"click"],[1,"menu-tile"],["name","add-sharp",1,"menu-tile-image"],["name","qr-code-sharp",1,"menu-tile-image"],["name","person-outline",1,"menu-tile-image"],["name","pie-chart-outline",1,"menu-tile-image"],["name","cog-sharp",1,"menu-tile-image"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row"),n.YNc(3,R,7,3,"ion-col",0)(4,v,7,3,"ion-col",0),n.qZA(),n.TgZ(5,"ion-row"),n.YNc(6,D,7,3,"ion-col",0)(7,I,7,3,"ion-col",0)(8,b,7,3,"ion-col",0),n.qZA()()()),2&t&&(n.xp6(3),n.Q6J("ngIf","Admin"===o.loggedInUser.userRole||"Dealer"===o.loggedInUser.userRole),n.xp6(),n.Q6J("ngIf","Admin"===o.loggedInUser.userRole||"Dealer"===o.loggedInUser.userRole||"SubDealer"===o.loggedInUser.userRole),n.xp6(2),n.Q6J("ngIf","Admin"===o.loggedInUser.userRole||"Dealer"===o.loggedInUser.userRole),n.xp6(),n.Q6J("ngIf",!1),n.xp6(),n.Q6J("ngIf","Admin"===o.loggedInUser.userRole||"Dealer"===o.loggedInUser.userRole))},dependencies:[m.O5,s.PM,s.FN,s.Zi,s.wI,s.W2,s.jY,s.gu,s.Nd,S.X$],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: url(/assets/bg20.JPG) 0 0/100% 100% no-repeat ;background-color:#8a2be2;background-size:cover}.toolbar-backgorund[_ngcontent-%COMP%]{background-color:azure;color:#fdfdfd}.user-profile-pic[_ngcontent-%COMP%]{width:60px;height:60px;display:block;margin-top:20px;margin-left:auto;margin-right:auto}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px;--background: none}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0;background:none;color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#fff;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{background:none}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;color:#fff}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}p[_ngcontent-%COMP%]{color:#fff}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:#fff}ion-item.selected[_ngcontent-%COMP%]{color:#fff}ion-card[_ngcontent-%COMP%]{color:#2c1d1d;background-color:#7fffd4;padding:0;margin:0;border-radius:10px}ion-card-content[_ngcontent-%COMP%]{color:#130d0d}ion-card-header[_ngcontent-%COMP%]{text-align:center;align-items:center}button[_ngcontent-%COMP%]{background:none;color:#fff;text-decoration:underline}.profile-name[_ngcontent-%COMP%]{font-size:18px;color:#e0ffff}.profile-user-name[_ngcontent-%COMP%], .profile-user-email[_ngcontent-%COMP%]{font-size:12px;color:#9ad2d2}.menu-tile[_ngcontent-%COMP%]{background-color:#d9f5eb;align-items:center;text-align:center}.menu-tile-image[_ngcontent-%COMP%]{font-size:50px;color:#1f0707}"]}),r})()}];let x=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.Bz.forChild(N),g.Bz]}),r})(),U=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[m.ez,O.u5,s.Pc,x,S.aw.forChild()]}),r})()}}]);