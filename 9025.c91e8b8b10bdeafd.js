"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9025],{9025:(S,_,l)=>{l.r(_),l.d(_,{UserListPageModule:()=>y});var h=l(6814),d=l(6223),o=l(878),g=l(6800),u=l(5861),f=l(9421),e=l(9212),m=l(6530),P=l(3864),x=l(8378),p=l(9864);function k(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"img",16),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.ClearTextButtonClicked())}),e.qZA()}}function C(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-input",13),e.NdJ("ngModelChange",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n.searchText=t)}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,k,1,0,"img",14),e.TgZ(4,"img",15),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.SearchTextButtonClicked())}),e.qZA()()}if(2&r){const i=e.oxw();e.xp6(),e.MGl("placeholder"," ",e.lcZ(2,3,"USERS_PAGE.SEARCH_BY_NAME"),""),e.Q6J("ngModel",i.searchText),e.xp6(2),e.Q6J("ngIf",0!==i.searchText.length)}}function T(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-item",17)(1,"ion-avatar",2),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.userSelected(n))}),e._UZ(2,"img",18),e.qZA(),e.TgZ(3,"ion-label",19),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.userSelected(n))}),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.TgZ(6,"h3"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()(),e._UZ(10,"img",20),e.TgZ(11,"ion-icon",21),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.EditButtonClicked(n))}),e.qZA()()}if(2&r){const i=a.$implicit;e.xp6(2),e.Q6J("src",i.icon,e.LSH),e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Oqu(i.userName),e.xp6(2),e.AsE("",i.email," - ",i.phoneNumber,""),e.xp6(),e.Q6J("src",i.statusIcon,e.LSH)}}function U(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-col",22),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.FirstClicked())}),e.qZA()}}function v(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-col",22),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.PrevClicked())}),e.qZA()}}function L(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-col",23)(1,"ion-button",24),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.PageClicked(n))}),e._uU(2),e.qZA()()}if(2&r){const i=a.$implicit,s=e.oxw();e.xp6(),e.Q6J("disabled",i===s.currentPage),e.xp6(),e.hij(" ",i," ")}}function M(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-col",22),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.NextClicked())}),e.qZA()}}function w(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"ion-col",22),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.LastClicked())}),e.qZA()}}const Z=[{path:"",component:(()=>{var r;class a{constructor(s,t,n,c){this.userService=s,this.loaderService=t,this.router=n,this.localStorageService=c,this.skip=0,this.totalRecords=-1,this.totalPages=-1,this.countPerPage=10,this.limit=this.countPerPage,this.currentPage=1,this.pages=new Array,this.showPagination=!1,this.editUserIcon="",this.searchToggle=!1,this.searchText="",this.allowNext=!1,this.allowPrev=!1,this.allowFirst=!1,this.allowLast=!1,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",this.users=new Array,this.router.events.forEach(J=>{})}ngOnInit(){this.loggedInUser=this.localStorageService.StoredPreference.LoggedInUser,this.loadusers()}loadusers(){var s=this;this.loaderService.customLoader("Loading Users...",5e3),""!==this.searchText?this.userService.listBykeyword(this.searchText,this.skip,this.limit,function(){var t=(0,u.Z)(function*(n){s.handleResponse(n),s.loaderService.dismissLoader()});return function(n){return t.apply(this,arguments)}}(),()=>{this.loaderService.dismissLoader()}):this.userService.list(this.skip,this.limit,function(){var t=(0,u.Z)(function*(n){s.handleResponse(n),s.loaderService.dismissLoader()});return function(n){return t.apply(this,arguments)}}(),()=>{this.loaderService.dismissLoader()})}handleResponse(s){if(this.users=new Array,s.results.length>10&&(this.showPagination=!0),s.results.forEach(t=>{let n=new f.n(t);(n.userName!==this.loggedInUser.userName||n.email!==this.loggedInUser.email)&&(n.icon="/assets/icon/"+t.userRole+".png",this.users.push(n))}),this.pages=new Array,s.totalRecords<10)this.allowFirst=!1,this.allowPrev=!1,this.allowLast=!1,this.allowNext=!1,this.currentPage=1,this.pages.push(1);else if(this.totalPages=Math.ceil(s.totalRecords/10),this.totalPages>5)this.currentPage==this.totalPages?(this.allowFirst=!0,this.allowPrev=!0,this.allowLast=!1,this.allowNext=!1,this.pages.push(this.currentPage-2),this.pages.push(this.currentPage-1),this.pages.push(this.currentPage)):1==this.currentPage?(this.allowFirst=!1,this.allowPrev=!1,this.allowLast=!0,this.allowNext=!0,this.pages.push(this.currentPage),this.pages.push(this.currentPage+1),this.pages.push(this.currentPage+2)):(this.allowFirst=!0,this.allowPrev=!0,this.allowLast=!0,this.allowNext=!0,this.pages.push(this.currentPage-1),this.pages.push(this.currentPage),this.pages.push(this.currentPage+1));else for(let t=1;t<=this.totalPages;t++)this.pages.push(t)}handleRefresh(s){var t=this;""!==this.searchText?this.userService.listBykeyword(this.searchText,this.skip,this.limit,function(){var n=(0,u.Z)(function*(c){t.handleResponse(c),s.target.complete()});return function(c){return n.apply(this,arguments)}}(),()=>{s.target.complete()}):this.userService.list(this.skip,this.limit,function(){var n=(0,u.Z)(function*(c){t.handleResponse(c),s.target.complete()});return function(c){return n.apply(this,arguments)}}(),()=>{s.target.complete()})}ClearTextButtonClicked(){this.searchText="",this.skip=0,this.currentPage=1,this.loadusers()}SearchToggleButtonClicked(){this.searchToggle=!this.searchToggle}FilterButtonClicked(){}SearchTextButtonClicked(){this.skip=0,this.currentPage=1,""!=this.searchText&&this.loadusers()}userSelected(s){this.userService.selectedUser=s;let t={queryParams:{Id:s.id,ts:(new Date).getMilliseconds()}};this.router.navigate(["home/user-details"],t)}EditButtonClicked(s){const t={queryParams:{Id:s.id,ts:(new Date).getMilliseconds()}};this.router.navigate(["home/update-user"],t)}AddUserButtonClicked(){const s={queryParams:{ts:(new Date).getMilliseconds()}};this.router.navigate(["home/create-user"],s)}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(s){"confirm"===s.detail.role&&(this.message=`Hello, ${s.detail.data}!`)}FirstClicked(){this.currentPage=1,this.limit=this.countPerPage,this.skip=this.countPerPage*(this.currentPage-1),this.loadusers()}PrevClicked(){this.currentPage--,this.limit=this.countPerPage,this.skip=this.countPerPage*(this.currentPage-1),this.loadusers()}NextClicked(){this.currentPage++,this.limit=this.countPerPage,this.skip=this.countPerPage*(this.currentPage-1),this.loadusers()}LastClicked(){this.currentPage=this.totalPages,this.limit=this.countPerPage,this.skip=this.countPerPage*(this.currentPage-1),this.loadusers()}PageClicked(s){this.currentPage=s,this.limit=this.countPerPage,this.skip=this.countPerPage*(this.currentPage-1),this.loadusers()}}return(r=a).\u0275fac=function(s){return new(s||r)(e.Y36(m.K),e.Y36(P.D),e.Y36(g.F0),e.Y36(x.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(s,t){if(1&s&&e.Gf(o.ki,5),2&s){let n;e.iGM(n=e.CRH())&&(t.modal=n.first)}},decls:25,vars:11,consts:[["slot","fixed",3,"pullFactor","pullMin","pullMax","ionRefresh"],[1,"user-results"],["slot","start",3,"click"],["alt","Add User","src","/assets/icon/add_user_icon.png"],["slot","end",3,"click"],["alt","Search User","src","/assets/icon/search.png"],[4,"ngIf"],[1,"user-results-list-header"],["class","user-result-cell",4,"ngFor","ngForOf"],[1,"open-space"],[1,"text-center","pagination-area"],["class","pagination-button",3,"click",4,"ngIf"],["class","pagination-button",4,"ngFor","ngForOf"],["slot","start","type","search","autocomplete","nope",1,"search-text-field",3,"ngModel","placeholder","ngModelChange"],["slot","end","class","search-icon","src","/assets/icon/ClearIcon.png",3,"click",4,"ngIf"],["slot","end","src","/assets/icon/SearchAction.png",1,"search-icon",3,"click"],["slot","end","src","/assets/icon/ClearIcon.png",1,"search-icon",3,"click"],[1,"user-result-cell"],["alt","User",3,"src"],[3,"click"],["slot","end",1,"status-icon",3,"src"],["name","create-sharp","slot","end",3,"click"],[1,"pagination-button",3,"click"],[1,"pagination-button"],[3,"disabled","click"]],template:function(s,t){1&s&&(e.TgZ(0,"ion-content")(1,"ion-refresher",0),e.NdJ("ionRefresh",function(c){return t.handleRefresh(c)}),e._UZ(2,"ion-refresher-content"),e.qZA(),e.TgZ(3,"ion-list",1)(4,"ion-item")(5,"ion-thumbnail",2),e.NdJ("click",function(){return t.AddUserButtonClicked()}),e._UZ(6,"img",3),e.qZA(),e.TgZ(7,"ion-thumbnail",4),e.NdJ("click",function(){return t.SearchToggleButtonClicked()}),e._UZ(8,"img",5),e.qZA()(),e.YNc(9,C,5,5,"ion-item",6),e.TgZ(10,"ion-list-header",7),e._uU(11),e.qZA(),e.YNc(12,T,12,6,"ion-item",8),e.qZA(),e.TgZ(13,"ion-grid")(14,"ion-row"),e._UZ(15,"ion-col",9),e.qZA()()(),e.TgZ(16,"ion-footer")(17,"div",10)(18,"ion-grid")(19,"ion-row"),e.YNc(20,U,1,0,"ion-col",11)(21,v,1,0,"ion-col",11)(22,L,3,2,"ion-col",12)(23,M,1,0,"ion-col",11)(24,w,1,0,"ion-col",11),e.qZA()()()()),2&s&&(e.xp6(),e.Q6J("pullFactor",.5)("pullMin",100)("pullMax",200),e.xp6(8),e.Q6J("ngIf",t.searchToggle),e.xp6(2),e.hij(" Showing Results skipping ",t.skip," records "),e.xp6(),e.Q6J("ngForOf",t.users),e.xp6(8),e.Q6J("ngIf",t.allowFirst),e.xp6(),e.Q6J("ngIf",t.allowPrev),e.xp6(),e.Q6J("ngForOf",t.pages),e.xp6(),e.Q6J("ngIf",t.allowNext),e.xp6(),e.Q6J("ngIf",t.allowLast))},dependencies:[h.sg,h.O5,d.JJ,d.On,o.BJ,o.YG,o.wI,o.W2,o.fr,o.jY,o.gu,o.pK,o.Ie,o.Q$,o.q_,o.yh,o.nJ,o.Wo,o.Nd,o.Bs,o.j9,p.X$],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: url(/assets/bg20.JPG) 0 0/100% 100% no-repeat;background-size:cover}.toolbar-backgorund[_ngcontent-%COMP%]{color:#000}.filter-search-buttons[_ngcontent-%COMP%]{text-align:center}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:#000}ion-item.selected[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]{color:#2c1d1d;background-color:#7fffd4;padding:0;margin:0;border-radius:10px}ion-card-content[_ngcontent-%COMP%]{color:#130d0d}.user-results[_ngcontent-%COMP%]{background:transparent}.user-results-list-header[_ngcontent-%COMP%]{background-color:#3da7a7}.user-result-cell[_ngcontent-%COMP%]{margin-top:10px;border-bottom-width:1px;border-bottom-color:#000;border-bottom-style:groove}.list-image[_ngcontent-%COMP%]{font-size:50px;color:#000}.status-icon[_ngcontent-%COMP%]{width:20px;height:20px}.search-icon[_ngcontent-%COMP%]{width:25px;height:25px}.search-text[_ngcontent-%COMP%]{font-size:x-large;color:gray}.search-text-field[_ngcontent-%COMP%]{font-size:larger;color:gray}.pagination-area[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;right:0;background-color:gray;height:45px;margin-bottom:0}.pagination-button[_ngcontent-%COMP%]{border-width:1px;border-color:#3e2c2c;color:#fff;font-size:larger;font-weight:800;border-style:solid;text-align:center}.selected[_ngcontent-%COMP%]{background-color:#e9c0c0;color:#645858}.open-space[_ngcontent-%COMP%]{margin-bottom:50px}"]}),a})()}];let A=(()=>{var r;class a{}return(r=a).\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),a})(),y=(()=>{var r;class a{}return(r=a).\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.ez,d.u5,o.Pc,A,p.aw.forChild()]}),a})()}}]);