"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6399],{6399:(W,P,i)=>{i.r(P),i.d(P,{ResetPasswordPageModule:()=>I});var _=i(6814),d=i(6223),r=i(878),S=i(6800),c=i(5861),h=i(7084),e=i(9212),T=i(643),w=i(6530),E=i(9864);function p(a,n){if(1&a&&(e.TgZ(0,"ion-label",24),e._uU(1),e.qZA()),2&a){const l=e.oxw();e.xp6(),e.hij(" ",l.oldPasswordValidationMessage," ")}}function A(a,n){if(1&a&&(e.TgZ(0,"ion-label",24),e._uU(1),e.qZA()),2&a){const l=e.oxw();e.xp6(),e.hij(" ",l.newPasswordValidationMessage," ")}}function m(a,n){1&a&&(e.TgZ(0,"ion-item")(1,"ion-label",25),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"RESET_PASSWORD.PASSWORD_STRENGTH_MESSAGE")," "))}function f(a,n){1&a&&(e.TgZ(0,"ion-item")(1,"ion-label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"RESET_PASSWORD.PASSWORD_STRENGTH_LENGTH_CONTRAINT_MESSAGE")," "))}function M(a,n){1&a&&(e.TgZ(0,"ion-item")(1,"ion-label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"RESET_PASSWORD.PASSWORD_STRENGTH_LOWERCASE_CONTRAINT_MESSAGE")," "))}function O(a,n){1&a&&(e.TgZ(0,"ion-item")(1,"ion-label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"RESET_PASSWORD.PASSWORD_STRENGTH_UPPERCASE_CONTRAINT_MESSAGE")," "))}function C(a,n){1&a&&(e.TgZ(0,"ion-item")(1,"ion-label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"RESET_PASSWORD.PASSWORD_STRENGTH_NUMBER_CONTRAINT_MESSAGE")," "))}function D(a,n){if(1&a&&(e.TgZ(0,"ion-label",24),e._uU(1),e.qZA()),2&a){const l=e.oxw();e.xp6(),e.hij(" ",l.confirmPasswordValidationMessage," ")}}const v=[{path:"",component:(()=>{var a;class n{constructor(t,s,o,g,R,u){this.router=t,this.activatedRoute=s,this.languageService=o,this.loadingController=g,this.userService=R,this.alertController=u,this.passwordResetStatus=!1,this.showPasswordStrengthMessage=!0,this.passwordStrength=0}ngAfterViewInit(){this.email="",this.oldPassword="",this.newPassword="",this.confirmPassword="",this.activatedRoute.queryParams.subscribe(t=>{this.email=t.email})}newPasswordTextChanged(){if(0==this.newPassword.length)return this.showNewPasswordValidationMessage=!1,void(this.showPasswordStrengthMessage=!0);this.showPasswordStrengthMessage=!1,this.passwordStrength=h.W.getPasswordStrength(this.newPassword?this.newPassword:""),-1==this.passwordStrength?(this.showNewPasswordValidationMessage=!0,this.newPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.PASSWORD_LENGTH_MESSAGE").replace("{MIN_PASSWORD_STRENGTH}","8")):this.passwordStrength<1?(this.showNewPasswordValidationMessage=!0,this.newPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.NEW_PASSWORD_STRENGTH_MESSAGE")):this.showNewPasswordValidationMessage=!1,console.log(this.passwordStrength)}validate(){var t=!0;return""==this.oldPassword&&(this.showOldPasswordValidationMessage=!0,this.oldPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.EMPTY_DETAILS_ERROR_TITLE"),t=!1),""==this.newPassword&&(this.showNewPasswordValidationMessage=!0,this.newPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.EMPTY_DETAILS_ERROR_TITLE"),t=!1),""==this.confirmPassword&&(this.showConfirmPasswordValidationMessage=!0,this.confirmPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.EMPTY_DETAILS_ERROR_TITLE"),t=!1),this.oldPassword===this.newPassword&&(this.showConfirmPasswordValidationMessage=!0,this.confirmPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.CONFIRM_NEW_PASSWORD_MESSAGE"),t=!1),this.confirmPassword!==this.newPassword&&(this.showConfirmPasswordValidationMessage=!0,this.confirmPasswordValidationMessage=this.languageService.translate("RESET_PASSWORD.PASSWORD_NOT_MATCHING_ERROR_MESSAGE"),t=!1),t}languageLinkClicked(){this.languageService.presentLanguageSelctionMenu(()=>{})}cancelButtonClicked(){let t={queryParams:{ts:(new Date).getTime()}};this.router.navigate([this.userService.lastRoute],t)}resetButtonClicked(){var t=this;return(0,c.Z)(function*(){t.confirmPasswordValidationMessage="",t.validate()&&(t.loading=yield t.loadingController.create({message:t.languageService.translate("RESET_PASSWORD.PROGRESS_MESSAGE"),duration:1e4}),t.loading.present(),t.userService.checkUser(t.email?t.email:"",t.oldPassword?t.oldPassword:"",s=>{t.userService.ResetPassword(s.id,t.newPassword?t.newPassword:"",()=>{t.loading.dismiss(),t.passwordResetStatus=!0,t.presentAlert(t.languageService.translate("RESET_PASSWORD.SUCCESS"),t.languageService.translate("RESET_PASSWORD.SUCCESS_MESSAGE"))},()=>{t.loading.dismiss(),t.presentAlert(t.languageService.translate("RESET_PASSWORD.FAILED"),t.languageService.translate("RESET_PASSWORD.FAILED_MESSAGE"))})},s=>{switch(t.loading.dismiss(),s){case"INVALID_CREDENTAILS":t.presentAlert(t.languageService.translate("RESET_PASSWORD.INVALID_CREDENTIALS_ERROR_TITLE"),t.languageService.translate("RESET_PASSWORD.ERROR_INVALID_CREDENTIALS_MESSAGE"));break;case"INACTIVE_USER":t.presentAlert(t.languageService.translate("RESET_PASSWORD.INACTIVE_ACCOUNT_ERROR_TITLE"),t.languageService.translate("RESET_PASSWORD.ERROR_INACTIVE_ACCOUNT_MESSAGE"));break;case"SUSPENDED_USER":t.presentAlert(t.languageService.translate("RESET_PASSWORD.SUSPENDED_ACCOUNT_ERROR_TITLE"),t.languageService.translate("RESET_PASSWORD.ERROR_SUSPENDED_ACCOUNT_MESSAGE"));break;case"RESET_REQUIRED":t.presentAlert(t.languageService.translate("RESET_PASSWORD.PASSWORD_RESET_REQUIRED_ERROR_TITLE"),t.languageService.translate("RESET_PASSWORD.PASSWORD_RESET_REQUIRED_ACCOUNT_MESSAGE"))}}))})()}presentLoading(t){return(0,c.Z)(function*(){yield t.present()})()}presentAlert(t=this.languageService.translate("RESET_PASSWORD.FAILED"),s=this.languageService.translate("RESET_PASSWORD.FAILED_MESSAGE")){var o=this;return(0,c.Z)(function*(){const g=yield o.alertController.create({cssClass:"my-custom-class",header:t,subHeader:"",message:s,buttons:[{text:o.languageService.translate("BUTTONS.OK"),handler:u=>{if(o.passwordResetStatus){let x={queryParams:{ts:(new Date).getTime()}};o.router.navigate(["/login"],x)}}}]});yield g.present(),yield g.onDidDismiss()})()}}return(a=n).\u0275fac=function(t){return new(t||a)(e.Y36(S.F0),e.Y36(S.gz),e.Y36(T.T),e.Y36(r.HT),e.Y36(w.K),e.Y36(r.Br))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-reset-password"]],decls:51,vars:40,consts:[["padding","",1,"animated","fadeIn","login","auth-page"],[1,"theme-bg"],[1,"auth-content"],["padding-horizontal","","text-center","",1,"animated","fadeInDown"],[1,"app-logo","center"],["src","/assets/icon/org-logo.png"],["no-margin","",1,"text-center"],["color","dark",1,"ion-text-justify"],["id","UserProfile",1,"toolbar-backgorund","credentials-area"],["name","person","slot","start"],["name","Email",1,"credentials-field",3,"placeholder","ngModel","ngModelChange"],["name","key","slot","start"],["type","password","name","Password",3,"placeholder","ngModel","ngModelChange"],["color","danger",4,"ngIf"],["id","UserProfile",1,"toolbar-backgorund"],["name","checkmark-circle-outline","slot","start"],["type","password","name","Password","autocapitalize","sentences","autocomplete","off",3,"placeholder","ngModel","ngModelChange","ionChange"],[3,"value"],[4,"ngIf"],["name","checkmark-done-circle-outline","slot","start"],["expand","full","color","dark","tappable","",1,"signin",3,"click"],[1,"text-center","language-button"],["tappable","",1,"paz",3,"click"],["color","dark"],["color","danger"],["slot","start","color","info"],["slot","","color","info"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"h4",6)(7,"ion-text",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"h5",6)(11,"ion-text",7),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"ion-item",8),e._UZ(15,"ion-icon",9),e.TgZ(16,"ion-input",10),e.NdJ("ngModelChange",function(g){return s.email=g}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"ion-item",8),e._UZ(19,"ion-icon",11),e.TgZ(20,"ion-input",12),e.NdJ("ngModelChange",function(g){return s.oldPassword=g}),e.ALo(21,"translate"),e.qZA()(),e.YNc(22,p,2,1,"ion-label",13),e.TgZ(23,"ion-item",14),e._UZ(24,"ion-icon",15),e.TgZ(25,"ion-input",16),e.NdJ("ngModelChange",function(g){return s.newPassword=g})("ionChange",function(){return s.newPasswordTextChanged()}),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"ion-progress-bar",17),e.YNc(28,A,2,1,"ion-label",13)(29,m,4,3,"ion-item",18)(30,f,4,3,"ion-item",18)(31,M,4,3,"ion-item",18)(32,O,4,3,"ion-item",18)(33,C,4,3,"ion-item",18),e.TgZ(34,"ion-item",14),e._UZ(35,"ion-icon",19),e.TgZ(36,"ion-input",12),e.NdJ("ngModelChange",function(g){return s.confirmPassword=g}),e.ALo(37,"translate"),e.qZA()(),e.YNc(38,D,2,1,"ion-label",13),e.TgZ(39,"div")(40,"ion-button",20),e.NdJ("click",function(){return s.resetButtonClicked()}),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"ion-button",20),e.NdJ("click",function(){return s.cancelButtonClicked()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()(),e.TgZ(46,"div",21)(47,"span",22),e.NdJ("click",function(){return s.languageLinkClicked()}),e.TgZ(48,"ion-text",23),e._uU(49),e.ALo(50,"translate"),e.qZA()()()()),2&t&&(e.xp6(8),e.hij(" ",e.lcZ(9,22,"APP_TITLE")," "),e.xp6(4),e.hij(" ",e.lcZ(13,24,"APP_SUB_TITLE")," "),e.xp6(4),e.MGl("placeholder"," ",e.lcZ(17,26,"GENERAL.EMAIL_FIELD"),""),e.Q6J("ngModel",s.email),e.xp6(4),e.MGl("placeholder"," ",e.lcZ(21,28,"RESET_PASSWORD.OLD_PASSWORD"),""),e.Q6J("ngModel",s.oldPassword),e.xp6(2),e.Q6J("ngIf",s.showOldPasswordValidationMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(26,30,"RESET_PASSWORD.NEW_PASSWORD")),e.Q6J("ngModel",s.newPassword),e.xp6(2),e.s9C("value",s.passwordStrength),e.xp6(),e.Q6J("ngIf",s.showNewPasswordValidationMessage),e.xp6(),e.Q6J("ngIf",s.showPasswordStrengthMessage),e.xp6(),e.Q6J("ngIf",s.showPasswordStrengthMessage),e.xp6(),e.Q6J("ngIf",s.showPasswordStrengthMessage),e.xp6(),e.Q6J("ngIf",s.showPasswordStrengthMessage),e.xp6(),e.Q6J("ngIf",s.showPasswordStrengthMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(37,32,"RESET_PASSWORD.CONFIRM_NEW_PASSWORD")),e.Q6J("ngModel",s.confirmPassword),e.xp6(2),e.Q6J("ngIf",s.showConfirmPasswordValidationMessage),e.xp6(3),e.hij(" ",e.lcZ(42,34,"RESET_PASSWORD.BUTTON_TITLE")," "),e.xp6(3),e.hij(" ",e.lcZ(45,36,"BUTTONS.CANCEL")," "),e.xp6(5),e.hij(" ",e.lcZ(50,38,"GENERAL.LANGUAGE")," "))},dependencies:[_.O5,d.JJ,d.On,r.YG,r.W2,r.gu,r.pK,r.Ie,r.Q$,r.X7,r.yW,r.j9,E.X$],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: url(/assets/bg20.JPG) 0 0/100% 100% no-repeat ;background-size:cover}ion-item[_ngcontent-%COMP%], ion-button[_ngcontent-%COMP%], ion-icon[_ngcontent-%COMP%]{color:#000}button[_ngcontent-%COMP%]{background:transparent;color:#000}.forgotLinks[_ngcontent-%COMP%]{margin-top:20px}.signin[_ngcontent-%COMP%]{margin-top:60px}.app-logo[_ngcontent-%COMP%]{width:60px;height:60px;display:block;margin-top:30px;margin-left:auto;margin-right:auto}.paz[_ngcontent-%COMP%]{position:relative;z-index:10}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.left[_ngcontent-%COMP%]{float:left;text-align:left;padding-right:10px}.right[_ngcontent-%COMP%]{float:right;text-align:right;padding-left:10px}.language-button[_ngcontent-%COMP%]{position:fixed;left:0;bottom:10px;right:0}.credentials-field[_ngcontent-%COMP%]{border-radius:5px;color:#000}.credentials-area[_ngcontent-%COMP%]{margin-top:30px}.sign-up-area[_ngcontent-%COMP%]{margin-top:50px}.sign-up-text[_ngcontent-%COMP%]{color:#000}"]}),n})()}];let N=(()=>{var a;class n{}return(a=n).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[S.Bz.forChild(v),S.Bz]}),n})();var Z=i(1383);let I=(()=>{var a;class n{}return(a=n).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[_.ez,d.u5,r.Pc,d.UX,Z.m,E.aw.forChild(),N]}),n})()}}]);